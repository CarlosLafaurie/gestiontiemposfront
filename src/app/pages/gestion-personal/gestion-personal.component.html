<app-navbar></app-navbar>

<h2>Gestión de Personal - Obra: {{ nombreObra }}</h2>

<table border="1" class="table table-bordered">
  <thead class="table-dark">
    <tr>
      <th>Seleccionar</th>
      <th>Cédula</th>
      <th>Nombre Completo</th>
      <th>Cargo</th>
      <th>Obra</th>
      <th>Responsable</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let empleado of empleadosFiltrados">
      <td>
        <!-- Cada vez que se cambie el checkbox se llama a gestionarTiempos() -->
        <input type="checkbox" [(ngModel)]="empleado.seleccionado" (change)="gestionarTiempos()">
      </td>
      <td>{{ empleado.cedula }}</td>
      <td>{{ empleado.nombreCompleto }}</td>
      <td>{{ empleado.cargo }}</td>
      <td>{{ empleado.obra }}</td>
      <td>{{ empleado.responsable }}</td>
    </tr>
  </tbody>
</table>

<!-- Se muestra el componente de lista de tiempos si hay empleados seleccionados -->
<app-lista-tiempos *ngIf="empleadosSeleccionados.length > 0" [empleadosSeleccionados]="empleadosSeleccionados"></app-lista-tiempos>
